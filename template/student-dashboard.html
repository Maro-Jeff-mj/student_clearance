{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Dashboard</title>

  <link rel="stylesheet" href="{% static 'assets/css/dash.css' %}">
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

</head>

<body >
  <nav class="navbar " tabindex="2" aria-label="Light offcanvas navbar">
    <div class="container">
      <a class="navbar-brand" href="{% url 'home' %}"><img src="{% static 'assets/img/PTINOW.jpg' %}" width="70"
          alt=""></a>
      {% if val%}
      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbarLight"
      aria-controls="offcanvasNavbarLight" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbarLight"
    aria-labelledby="offcanvasNavbarLightLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasNavbarLightLabel">Review</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
        <ul class="nav nav-pills flex-column mb-auto">
          <li class="nav-item">
              {% if val.student_affair_review == 'approved' %}
              <a class="nav-link link-body-emphasis btn m-1">Student affairs
              <span class="badge text-bg-success rounded">approved</span>
              {% elif val.student_affair_review == 'disapproved' %}
              <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#studentaffair">Student affairs
              <span class="badge text-bg-danger rounded">disapproved</span>
              {% else %}
              <a class="nav-link link-body-emphasis btn m-1">Student affairs
              <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
              {% endif %}
            </a>
          </li>
          <li>
              {% if val.hod_review == 'approved' %}
              <a class="nav-link link-body-emphasis btn m-1">Department 
              <span class="badge text-bg-success rounded">approved</span>
              {% elif val.hod_review == 'disapproved' %}
              <a  class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#hod">Department
              <span class="badge text-bg-danger rounded">disapproved</span>
              {% else %}
              <a class="nav-link link-body-emphasis btn m-1">Department 
              <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
              {% endif %}
            </a>
          </li>
          <li>
              {% if val.sug_review == 'approved' %}
              <a class="nav-link link-body-emphasis btn m-1 align-item-start">Student Union
              <span class="badge text-bg-success rounded">approved</span>
              {% elif val.sug_review == 'disapproved' %}
              <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#sug">Student Union
              <span class="badge text-bg-danger rounded">disapproved</span>
              {% else %}
              <a class="nav-link link-body-emphasis btn m-1 align-item-start">Student Union
              <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
              {% endif %}
            </a>
          </li>
          <li>
              {% if val.sport_officer_review == 'approved' %}
              <a class="nav-link link-body-emphasis btn m-1">Sports office
              <span class="badge text-bg-success rounded">approved</span>
              {% elif val.sport_officer_review == 'disapproved' %}
              <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#sportoffice">Sports office
              <span class="badge text-bg-danger rounded">disapproved</span>
              {% else %}
              <a class="nav-link link-body-emphasis btn m-1">Sports office
              <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
              {% endif %}
            </a>
          </li>
          <li>
              {% if val.chief_liberian_review == 'approved' %}
              <a class="nav-link link-body-emphasis btn m-1">School library
              <span class="badge text-bg-success rounded">approved</span>
              {% elif val.chief_liberian_review == 'disapproved' %}
              <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#library">School library
              <span class="badge text-bg-danger rounded">disapproved</span>
              {% else %}
              <a class="nav-link link-body-emphasis btn m-1">School library
              <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
              {% endif %}
            </a>
          </li>
          <li class="dropdown "><a class="nav-link link-body-emphasis btn">Hostels 
             {% if val.sex == 'Male' %}
             <ul class="nav ">
                {% if val.boys_hostel_review == 'approved' %}
                <a class="nav-link btn link-body-emphasis">Male hostels 
                <span class="badge text-bg-success rounded">approved</span>
                {% elif val.boys_hostel_review == 'disapproved' %}
                <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#boyshostel">Male hostels
                <span class="badge text-bg-danger rounded">disapproved</span>
                {% else %}
                <a class="nav-link btn link-body-emphasis">Male hostels 
                <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
                {% endif %}</a>
                {% if val.ptdf_wing_a_review == 'approved' %}
                <a class="nav-link btn link-body-emphasis">PTDF wing A  
                <span class="badge text-bg-success rounded">approved</span>
                {% elif val.ptdf_wing_a_review == 'disapproved' %}
                <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#winga">PTDF wing A
                <span class="badge text-bg-danger rounded">disapproved</span>
                {% else %}
                <a class="nav-link btn link-body-emphasis">PTDF wing A  
                <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
                {% endif %}</a>
            </ul>
             {% else %}
             <ul class="nav ">
                {% if val.noble_hostel_review == 'approved' %}
                <a class="nav-link btn link-body-emphasis">Noble hostel  
                <span class="badge text-bg-success rounded">approved</span>
                {% elif val.noble_hostel_review == 'disapproved' %}
                <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#noble">Noble hostel
                <span class="badge text-bg-danger rounded">disapproved</span>
                {% else %}
                <a class="nav-link btn link-body-emphasis">Noble hostel  
                <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
                {% endif %}</a>
                {% if val.ptdf_wing_b_review == 'approved' %}
                <a class="nav-link btn link-body-emphasis">PTDF wing B   
                <span class="badge text-bg-success rounded">approved</span>
                {% elif val.ptdf_wing_b_review == 'disapproved' %}
                <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#wingb">PTDF wing B
                <span class="badge text-bg-danger rounded">disapproved</span>
                {% else %}
                <a class="nav-link btn link-body-emphasis">PTDF wing B   
                <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
                {% endif %}</a>
                {% if val.nddc_hostel_review == 'approved' %}
                <a class="nav-link btn link-body-emphasis">NDDC hostel  
                <span class="badge text-bg-success rounded">approved</span>
                {% elif val.nddc_hostel_review == 'disapproved' %}
                <a class="nav-link link-body-emphasis btn m-1 align-item-start" data-bs-toggle="modal" data-bs-target="#nddc">NDDC hostel
                <span class="badge text-bg-danger rounded">disapproved</span>
                {% else %}
                <a class="nav-link btn link-body-emphasis">NDDC hostel  
                <span class="badge text-bg-warning opacity-75 text-white rounded">pending</span>
                {% endif %}</a>
            </ul>
             {% endif %}
            </a>
          <li>
            <a href="#" class="nav-link link-body-emphasis btn m-3">Clearance certificate <br>
            </a>
          </li>
        </ul>
    </div>
  </div>
      {% endif %}
    </div>
  </nav>
  <br>
  <div class="container">
    <p class="text-end">2022/2023 session.</p>
    <p class="">welcome <span>{{user.studentprofile.othernames}}</span></p>
    <div class="card m-5 rounded-3 border shadow-lg ">
      <div class="row g-0">
        <div class="col-md-4">
         <img src="{{request.user.studentprofile.profile_pic.url}}" width="100%" height="260px">
        </div>
        <div class="col-md-8">
          <div class="card-body">
            {% if user.studentprofile %}
            {% if val %}
            <div class="card-text">Kindly excersice patience, your clearance is under review. </div>
            <a href="{% url 'clearance-form-detail' val.pk %}"><small class="text-danger text-decoration-underline">View
                form</small></a>
            {% else %}
            <div class="card-text">Make sure your details are filled out correctly on your form  </div>
            <div class="card-text"><a href="{% url 'clearance-form' %}"><small
                  class="text-danger text-decoration-underline">Fill clearance form.</small></a></div>
            {% endif %}
            {% else %}
            <div class="card-text">Make sure your profile is setup correctly, before proceeding to get cleared. </div>
            <div class="card-text"><a href="{% url 'student-profile' %}"><small class="text-danger text-decoration-underline">Complete your profile</small></a></div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    <strong>Student Personal Information:</strong>
    <br>
    <br>
    <table class="table bg-body-tertiary table-striped-columns">
      <tbody>
        <tr>
          <th scope="row">MATRIC NUMBER:</th>
          <td>{{user.username}}</td>
        </tr>
        <tr>
          <th scope="row">SURNAME:</th>
          <td>{{user.studentprofile.surname}}</td>
        </tr>
        <tr>
          <th scope="row">OTHERNAMES:</th>
          <td>{{user.studentprofile.othernames}}</td>
        </tr>
        <tr>
          <th scope="row">DIRECTORATE:</th>
          <td>{{user.studentprofile.directorate}}</td>
        </tr>
        <tr>
          <th scope="row">DEPARTMENT:</th>
          <td>{{user.studentprofile.department}}</td>
        </tr>
        <tr>
          <th scope="row">PROGRAM OF STUDY:</th>
          <td>{{user.studentprofile.program_of_study}}</td>
        </tr>
        <tr>
          <th scope="row">STUDY MODE:</th>
          <td>{{user.studentprofile.study_mode}}</td>
        </tr>
        <tr>
          <th scope="row">EMAIL:</th>
          <td>{{user.email}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="container mt-5">
    <footer class="py-3 my-4">
      <ul class="nav justify-content-center border-bottom pb-3 mb-3">
        <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">My portal home</a></li>
        <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Need help?contact us.</a></li>
        <li class="nav-item"><a href="{% url 'user-logout' %}" class="nav-link px-2 text-body-secondary">Logout</a></li>
      </ul>
      <p class="text-center text-body-secondary">&copy;2023 CSIT dev, Inc</p>
    </footer>
  </div>
  
{% if val.hod_comment %}
<div class="modal fade" id="hod" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Department</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.hod_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if val.student_affair_comment %}
<div class="modal fade" id="studentaffair" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Student Affairs</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.student_affair_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}


{% if val.sug_comment %}
<div class="modal fade" id="sug" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Student Union Government</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.sug_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if val.chief_liberian_comment %}
<div class="modal fade" id="library" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Chief liberian</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.chief_liberian_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if val.sport_officer_comment %}
<div class="modal fade" id="sportoffice" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Sports Officer</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.sport_officer_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if val.nddc_hostel_comment %}
<div class="modal fade" id="nddc" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Hall of Residence (NDDC)</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.nddc_hostel_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if val.noble_hostel_comment %}
<div class="modal fade" id="noble" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Hall of Residence (Noble)</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.noble_hostel_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if val.ptdf_wing_b_comment %}
<div class="modal fade" id="wingb" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Hall of Residence (PTDF-B)</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.ptdf_wing_b_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if val.ptdf_wing_a_comment %}
<div class="modal fade" id="winga" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Hall of Residence (PTDF-A)</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.ptdf_wing_a_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

{% if val.boys_hostel_comment %}
<div class="modal fade" id="boyshostel" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Hall of Residence (Boy's Hostels)</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{val.boys_hostel_comment}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
    crossorigin="anonymous"></script>

</body>
</html>